(this.webpackJsonpupdate=this.webpackJsonpupdate||[]).push([[0],{178:function(e,t,a){e.exports=a(374)},183:function(e,t,a){},374:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),i=(a(183),a(31)),o=a(21),u=a(381),m=a(378),s=a(376),d=a(107),p=a(35),E=a.n(p),h=(a(81),a(379)),b="IMAGE",f="CONTENT",v="QUOTE",g="YTB",y=a(146),O=a(147),j=a(174),C=a(148),w=a(175),k=a(380),N=a(377),I=a(382);function S(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function T(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||k.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||k.a.error("Image must smaller than 2MB!"),t&&a}var A=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(j.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&S(e.file.originFileObj,(function(e){return a.setState({imageUrl:e,loading:!1})})):a.setState({loading:!0})},a}return Object(w.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",null,this.state.loading?r.a.createElement(u.a,null):r.a.createElement(I.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return r.a.createElement(N.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:T,onChange:this.handleChange},t?r.a.createElement("img",{src:t,alt:"avatar",style:{width:"100%"}}):e)}}]),t}(r.a.Component),x=h.a.TextArea;function U(e){var t=Object(n.useState)(e.item.content),a=Object(o.a)(t,2),l=a[0],c=a[1],i=function(t){c(t),e.item.content=t};switch(e.item.type){case f:return r.a.createElement(x,{placeholder:"N\u1ed9i dung",allowClear:!0,value:l,onChange:function(e){return i(e.target.value)}});case v:return r.a.createElement(x,{placeholder:"Quote",allowClear:!0,value:l,onChange:function(e){return i(e.target.value)}});case g:return r.a.createElement(h.a,{placeholder:"Link youtube",allowClear:!0,value:l,onChange:function(e){return i(e.target.value)}});case b:return r.a.createElement(A,null);default:return r.a.createElement("div",null)}}function L(e){var t=e.item.inside,a=Object(n.useState)(e.item.title),l=Object(o.a)(a,2),c=l[0],i=l[1];return r.a.createElement("div",{className:"titleWrap"},r.a.createElement("div",{className:"delWrap"},r.a.createElement("h3",null,"M\u1ee5c ",e.index),r.a.createElement(d.a,{type:"danger",style:{marginLeft:16},onClick:e.onDelete},"X\xf3a m\u1ee5c")),r.a.createElement("br",null),r.a.createElement("div",{className:"btnWrap"},r.a.createElement(d.a,{className:"btnStyle",type:"primary",onClick:function(){return e.onAddItem(f,e.index-1)}},"Th\xeam n\u1ed9i dung"),r.a.createElement(d.a,{className:"btnStyle",type:"primary",onClick:function(){return e.onAddItem(v,e.index-1)}},"Th\xeam quote"),r.a.createElement(d.a,{className:"btnStyle",type:"primary",onClick:function(){return e.onAddItem(b,e.index-1)}},"Th\xeam h\xecnh"),r.a.createElement(d.a,{className:"btnStyle",type:"primary",onClick:function(){return e.onAddItem(g,e.index-1)}},"Th\xeam video")),r.a.createElement("br",null),r.a.createElement(h.a,{placeholder:"\u0110\u1ec1 m\u1ee5c (kh\xf4ng c\xf3 b\u1ecf qua, kh\xf4ng c\u1ea7n \u0111\xe1nh s\u1ed1)",allowClear:!0,value:c,onChange:function(t){return a=t.target.value,i(a),void(e.item.title=a);var a}}),r.a.createElement("br",null),t&&t.length>0&&t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(U,{item:e}),r.a.createElement("br",null),r.a.createElement("br",null))})))}var B=function(e){var t=e.postItem,a=Object(n.useState)(""),l=Object(o.a)(a,2),c=l[0],u=l[1],m=Object(n.useState)(""),s=Object(o.a)(m,2),p=s[0],b=s[1],f=Object(n.useState)(""),v=Object(o.a)(f,2),g=v[0],y=v[1],O=Object(n.useState)([]),j=Object(o.a)(O,2),C=j[0],w=j[1];Object(n.useEffect)((function(){u(t.postTitle),b(t.cover),y(t.description),w(t.sections||[])}),[t]);var k=function(e,t){C[t].inside=[].concat(Object(i.a)(C[t].inside),[{type:e,content:""}]),w(Object(i.a)(C))};return r.a.createElement("div",null,r.a.createElement(h.a,{placeholder:"Ti\xeau \u0111\u1ec1",allowClear:!0,value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A,null),r.a.createElement("br",null),r.a.createElement(x,{placeholder:"M\xf4 t\u1ea3",allowClear:!0,value:g,onChange:function(e){return y(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(d.a,{type:"primary",onClick:function(){w([].concat(Object(i.a)(C),[{title:"",inside:[{type:"CONTENT",content:""}]}]))}},"Th\xeam m\u1ee5c"),r.a.createElement("br",null),r.a.createElement("br",null),C&&C.length>0&&C.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("br",null),r.a.createElement(L,{index:t+1,item:e,onAddItem:k,onDelete:function(){return function(e){C.splice(e,1),w(Object(i.a)(C))}(t)}}))})),r.a.createElement(d.a,{type:"primary",onClick:function(){E.a.database().ref("posts").child(e.postIndex).set({postTitle:c||"",coverURL:p||"",description:g||"",sections:C||[],modifiedAt:new Date})}},"L\u01b0u"))},M=m.a.Meta;var W=function(){var e=r.a.createElement(u.a,{style:{fontSize:24},spin:!0}),t=Object(n.useState)(0),a=Object(o.a)(t,2),l=a[0],c=a[1],p=Object(n.useState)([]),h=Object(o.a)(p,2),b=h[0],f=h[1],v=Object(n.useState)(!0),g=Object(o.a)(v,2),y=g[0],O=g[1];return Object(n.useEffect)((function(){E.a.database().ref("posts").on("value",(function(e){var t=e.val();t&&t.length>0?f(t):f([{title:"",cover:"",description:"",sections:[]}]),console.log(t),O(!1)}))}),[]),y?r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{indicator:e,size:"large"})):r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"leftHalf"},b&&b.length>0?b.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(m.a,{style:{width:"100%"},cover:r.a.createElement("img",{alt:"L\u1ed7i h\xecnh",src:e.cover,width:"100%",height:"150"})},r.a.createElement(M,{title:e.postTitle,description:e.description})),r.a.createElement("br",null),r.a.createElement("div",{className:"btnWrap"},r.a.createElement(d.a,{type:"danger",onClick:function(){return function(e){b&&b.length>1&&(b.splice(e,1),f(Object(i.a)(b)),c(0))}(t)}},"X\xf3a"),r.a.createElement(d.a,{type:"primary",style:{marginLeft:16},onClick:function(){return c(t)}},"S\u1eeda")),r.a.createElement("br",null),r.a.createElement("br",null))})):r.a.createElement("h3",null,"Ch\u01b0a c\xf3 b\xe0i vi\u1ebft n\xe0o")),r.a.createElement("div",{className:"rightHalf"},r.a.createElement(d.a,{type:"primary",onClick:function(){return c(b.length),void f([].concat(Object(i.a)(b),[{title:"",cover:"",description:"",sections:[]}]))}},"Th\xeam m\u1edbi"),r.a.createElement("h2",null,"B\xe0i s\u1ed1 ",l+1),r.a.createElement(B,{postIndex:l,postItem:b[l]})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));E.a.initializeApp({apiKey:"AIzaSyCIbYZAKvEmY9ns42xafyV54BFU6qUCmKI",authDomain:"dau-giau.firebaseapp.com",databaseURL:"https://dau-giau.firebaseio.com",projectId:"dau-giau",storageBucket:"dau-giau.appspot.com",messagingSenderId:"801715659405",appId:"1:801715659405:web:cb3eecc4840cd11abaf8c4",measurementId:"G-XCRXMT5JYZ"}),E.a.analytics(),c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){}},[[178,1,2]]]);
//# sourceMappingURL=main.7191f8c5.chunk.js.map